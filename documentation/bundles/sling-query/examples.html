<!DOCTYPE html><html lang="en">
<head>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
        <title>Apache Sling :: Examples</title>
        <link rel="icon" href="/res/favicon.ico"/>
        <link rel="stylesheet" href="/res/css/site.css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js'></script><script>
            hljs.initHighlightingOnLoad();
        </script>
        
    </head>    <body>
<div class="title">
            <div class="logo">
                <a href="http://sling.apache.org">
                    <img border="0" alt="Apache Sling" src="/res/logos/sling.svg"/>
                </a>
            </div><div class="header">
                <a href="http://www.apache.org">
                    <img border="0" alt="Apache" src="/res/logos/apache.png"/>
                </a>
            </div>
        </div><nav class="menu">
            <ul>
                <li>
                    <strong>Documentation</strong><ul>
                        <li><a href="/documentation.html">Overview</a></li><li><a href="/documentation/getting-started.html">Getting Started</a></li><li><a href="/documentation/the-sling-engine.html">The Sling Engine</a></li><li><a href="/documentation/development.html">Development</a></li><li><a href="/documentation/bundles.html">Bundles</a></li><li><a href="/documentation/tutorials-how-tos.html">Tutorials &amp; How-Tos</a></li><li><a href="http://sling.apache.org/components/">Maven Plugins</a></li><li><a href="/documentation/configuration.html">Configuration</a></li>
                    </ul>
                </li><li>
                    <strong>API Docs</strong><ul>
                        <li><a href="/apidocs/sling11/index.html">Sling 11</a></li><li><a href="/apidocs/sling10/index.html">Sling 10</a></li><li><a href="/apidocs/sling9/index.html">Sling 9</a></li><li><a href="/documentation/apidocs.html">All versions</a></li>
                    </ul>
                </li><li>
                    <strong>Support</strong><ul>
                        <li><a href="http://s.apache.org/sling.wiki">Wiki</a></li><li><a href="http://s.apache.org/sling.faq">FAQ</a></li><li><a href="/sitemap.html">Site Map</a></li>
                    </ul>
                </li><li>
                    <strong>Project Info</strong><ul>
                        <li><a href="/downloads.cgi">Downloads</a></li><li><a href="http://www.apache.org/licenses/">License</a></li><li><a href="/news.html">News</a></li><li><a href="/releases.html">Releases</a></li><li><a href="https://issues.apache.org/jira/browse/SLING">Issue Tracker</a></li><li><a href="/links.html">Links</a></li><li><a href="/contributing.html">Contributing</a></li><li><a href="/project-information.html">Project Information</a></li><li><a href="/project-information/security.html">Security</a></li>
                    </ul>
                </li><li>
                    <strong>Source</strong><ul>
                        <li><a href="https://github.com/apache/?utf8=%E2%9C%93&q=sling">GitHub</a></li><li><a href="https://gitbox.apache.org/repos/asf?s=sling">Git at Apache</a></li>
                    </ul>
                </li><li>
                    <strong>Apache Software Foundation</strong><ul>
                        <li><a href="http://www.apache.org/foundation/thanks.html">Thanks!</a></li><li><a href="http://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a></li><li><a href="http://www.apache.org/foundation/buy_stuff.html">Buy Stuff</a></li><li><a href="https://www.apache.org/events/current-event.html">
                                <img border="0" alt="Current ASF Events" src="https://www.apache.org/events/current-event-125x125.png" width="125"/>
                            </a></li><li><a href="http://apache.org/foundation/contributing.html">
                                <img border="0" alt="Support the Apache Software Foundation!" src="/res/images/SupportApache-small.png" width="125"/>
                            </a></li>
                    </ul>
                </li>
            </ul>
        </nav>        <div class="main">
            <div class="pagenav">
<div class="breadcrumb">
                    <a href="/">
                        Home
                    </a><a href="/documentation.html">
                        Documentation
                    </a><a href="/documentation/bundles.html">
                        Bundles
                    </a><a href="/documentation/bundles/sling-query.html">
                        Sling Query
                    </a>
                </div>                
<div class="tags">
                    <a href="/tags/slingquery.html" class="label">
                        slingquery
                    </a> 
                </div>                
                
            </div><h1 class="pagetitle">
                Examples
            </h1><div id="generatedToC"></div><script src='/res/jquery-3.2.1.min.js' type='text/javascript'></script><script src='/res/tocjs-1-1-2.js' type='text/javascript'></script><script type='text/javascript'>$(document).ready(function() { $('#generatedToC').toc({'selector':'h1[class!=pagetitle],h2,h3'}); } );</script>
<div class="row"><div class="small-12 columns"><section class="wrap"><p>Get containing page (like [PageManager#getContainingPage](https://docs.adobe.com/docs/en/aem/6-3/develop/ref/javadoc/com/day/cq/wcm/api/PageManager.html#getContainingPage(org.apache.sling.api.resource.Resource)))</p>
<pre><code>$(resource).closest(&quot;cq:Page&quot;)
</code></pre>
<p>Get first ancestor with a given template</p>
<pre><code>$(resource).closest(&quot;cq:Page[jcr:content/cq:template=/apps/geometrixx/templates/homepage]&quot;)
</code></pre>
<p>List siblings of the current page which can be displayed in the navigation</p>
<pre><code>$(resource).closest(&quot;cq:Page&quot;).siblings(&quot;cq:Page[jcr:content/hiddenInNav=false]&quot;)
</code></pre>
<p>Get the first sibling of the current page</p>
<pre><code>$(resource).closest(&quot;cq:Page&quot;).siblings(&quot;cq:Page&quot;).first()
</code></pre>
<p>Get page ancestor closest to the root</p>
<pre><code>$(resource).parents(&quot;cq:Page&quot;).last()
</code></pre>
<p>Get the second child of each resource:</p>
<pre><code>$(resource1, resource2, resource3).children(&quot;:eq(1)&quot;)
</code></pre>
<p>Get the first two children of each resource:</p>
<pre><code>$(resource1, resource2, resource3).children(&quot;:lt(2)&quot;)
</code></pre>
<p>Closest ancestor page having non-empty parsys</p>
<pre><code>$(resource).closest(&quot;cq:Page foundation/components/parsys:parent&quot;)
</code></pre>
<p>Get all parents of the current resource and adapt them to Page object</p>
<pre><code>Iterable&lt;Page&gt; breadcrumbs = $(resource).parents(&quot;cq:Page&quot;).map(Page.class);
</code></pre>
<p>Get all parents of the current resource up to the home page</p>
<pre><code>Iterable&lt;Page&gt; breadcrumbs;
breadcrumbs = $(resource).parentsUntil(
    &quot;cq:Page[jcr:content/cq:template=/apps/geometrixx/templates/homepage]&quot;,
    &quot;cq:Page&quot;).map(Page.class);
</code></pre>
<p>List all grand-children pages having empty parsys</p>
<pre><code>$(resource).children(&quot;cq:Page&quot;).children(&quot;cq:Page&quot;).has(&quot;foundation/components/parsys:empty)
</code></pre>
<p>Use JCR query to find all <code>cq:Page</code>s with a given template</p>
<pre><code>$(resourceResolver)
    .searchStrategy(SearchStrategy.QUERY)
    .find(&quot;cq:PageContent[cq:template=/apps/geometrixx/templates/homepage]&quot;)
    .parent()
</code></pre>
<p>Find children named <code>en</code> or <code>de</code></p>
<pre><code>$(resource).children(&quot;#en, #de&quot;)
</code></pre></section></div></div>            
            <footer class="footer">
<div class="revisionInfo">
                    Last modified by <span class="author">Bertrand Delacretaz</span> on <span class="comment">Fri Sep 29 15:57:01 2017 +0200</span>
                </div>                <p>
                    Apache Sling, Sling, Apache, the Apache feather logo, and the Apache Sling project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners.
                </p><p>
                    Copyright Â© 2007-2018 The Apache Software Foundation.
                </p>
            </footer>
            
        </div>
    </body>
</html>