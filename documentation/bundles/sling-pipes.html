<!DOCTYPE html><html lang="en">
<head>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
        <title>Apache Sling :: Sling Pipes</title>
        <link rel="icon" href="/res/favicon.ico"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css"/>
        <link rel="stylesheet" href="/res/css/site.css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js'></script><script>
            hljs.initHighlightingOnLoad();
        </script>
        
    </head>    <body>
        <div class="section">
            <div class="level is-marginless">
<div class="logo">
                    <a href="https://sling.apache.org">
                        <img border="0" alt="Apache Sling" src="/res/logos/sling.svg"/>
                    </a>
                </div><div class="header">
                    <a href="https://www.apache.org">
                        <img border="0" alt="Apache" src="/res/logos/apache.png"/>
                    </a>
                </div>                
            </div><div class="columns is-gapless">
                <div class="column is-narrow sidemenu">
<div class="container">
                        <nav class="menu">
                            <ul class="menu-list box is-shadowless is-marginless">
                                <li>
                                    <p class="menu-label">
                                        <strong>Documentation</strong>
                                    </p><ul>
                                        <li><a href="/documentation.html">Overview</a></li><li><a href="/documentation/getting-started.html">Getting Started</a></li><li><a href="/documentation/the-sling-engine.html">The Sling Engine</a></li><li><a href="/documentation/development.html">Development</a></li><li><a href="/documentation/bundles.html">Bundles</a></li><li><a href="/documentation/tutorials-how-tos.html">Tutorials &amp; How-Tos</a></li><li><a href="/components/">Maven Plugins</a></li><li><a href="/documentation/configuration.html">Configuration</a></li>
                                    </ul>
                                </li><li>
                                    <p class="menu-label">
                                        <strong>API Docs</strong>
                                    </p><ul>
                                        <li><a href="/apidocs/sling11/index.html">Sling 11</a></li><li><a href="/apidocs/sling10/index.html">Sling 10</a></li><li><a href="/apidocs/sling9/index.html">Sling 9</a></li><li><a href="/documentation/apidocs.html">All versions</a></li>
                                    </ul>
                                </li><li>
                                    <p class="menu-label">
                                        <strong>Support</strong>
                                    </p><ul>
                                        <li><a href="https://s.apache.org/sling.wiki">Wiki</a></li><li><a href="https://s.apache.org/sling.faq">FAQ</a></li><li><a href="/sitemap.html">Site Map</a></li>
                                    </ul>
                                </li><li>
                                    <p class="menu-label">
                                        <strong>Project Info</strong>
                                    </p><ul>
                                        <li><a href="/downloads.cgi">Downloads</a></li><li><a href="https://www.apache.org/licenses/">License</a></li><li><a href="/news.html">News</a></li><li><a href="/releases.html">Releases</a></li><li><a href="https://issues.apache.org/jira/browse/SLING">Issue Tracker</a></li><li><a href="/links.html">Links</a></li><li><a href="/contributing.html">Contributing</a></li><li><a href="/project-information.html">Project Information</a></li><li><a href="/project-information/security.html">Security</a></li>
                                    </ul>
                                </li><li>
                                    <p class="menu-label">
                                        <strong>Source</strong>
                                    </p><ul>
                                        <li><a href="https://github.com/apache/?utf8=%E2%9C%93&q=sling">GitHub</a></li><li><a href="https://gitbox.apache.org/repos/asf?s=sling">Git at Apache</a></li>
                                    </ul>
                                </li><li>
                                    <p class="menu-label">
                                        <strong>Apache Software<br>Foundation</strong>
                                    </p><ul>
                                        <li><a href="https://www.apache.org/foundation/thanks.html">Thanks!</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a></li><li><a href="https://www.apache.org/foundation/buy_stuff.html">Buy Stuff</a></li>
                                    </ul>
                                </li><li>
                                    <a href="https://www.apache.org/events/current-event.html" class="column">
                                        <img border="0" alt="Current ASF Events" src="https://www.apache.org/events/current-event-125x125.png" width="125"/>
                                    </a>
                                </li><li>
                                    <a href="https://apache.org/foundation/contributing.html" class="column">
                                        <img border="0" alt="Support the Apache Software Foundation!" src="/res/images/SupportApache-small.png" width="125"/>
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    </div>                    
                </div><div class="column main">
                    <div class="box is-shadowless is-marginless">
                        <div class="level">
                            <div class="pagenav">
<div class="breadcrumb">
                                    <ul>
                                        <li>
                                            <a href="/">
                                                Home
                                            </a>
                                        </li><li>
                                            <a href="/documentation.html">
                                                Documentation
                                            </a>
                                        </li><li>
                                            <a href="/documentation/bundles.html">
                                                Bundles
                                            </a>
                                        </li>
                                    </ul>
                                </div>                                
                            </div><div class="tags">
                                <span class="tag">
                                    <a href="/tags/pipes.html">
                                        pipes
                                    </a>
                                </span>
                            </div>
                        </div><h1 class="title">
                            Sling Pipes
                        </h1><nav class="menu">
                            <ul class="menu-list box is-shadowless is-paddingless">
                                <li id="generatedToC">
                                    <p class="menu-label">
                                        <strong>Table of Contents</strong>
                                    </p>
                                </li>
                            </ul>
                        </nav><script src='/res/jquery-3.2.1.min.js' type='text/javascript'></script><script src='/res/tocjs-1-1-2.js' type='text/javascript'></script><script type='text/javascript'>$(document).ready(function() { $('#generatedToC').toc({'selector':'h1[class!=title],h2,h3','ulClass':'menu-list'}); } );</script><div class="content is-marginless">
<div class="row"><div><section><p>Sling pipes is a tool set for doing extract - transform - load operations by chaining proven code blocks.</p>
<h2><a href="#introduction" id="introduction">Introduction</a></h2>
<p>Sling Pipes can be seen as a language that optimizes communication between two developers knowing sling terminology, just as they would talk about it, e.g.</p>
<pre><code>    searching for resources with type &quot;foo/bar&quot; and setting property id to 3
</code></pre>
<p>Such sentence with that limited amount of words is enough between two sling developers to understand fully what it is doing. However, implementing this as a servlet would take a lot more words, risks of failure, complexity of deployement and would be more opaque, not talking about monitoring or execution common, but complex features you'd like to add.</p>
<p>With Sling Pipes, what you need to develop, and what is readable by another developer is</p>
<pre><code>    plumber.newPipe(resolver).$(&quot;foo/bar&quot;).write(&quot;id&quot;,3).build(&quot;/etc/demo&quot;)
</code></pre>
<p>this is enough to persist a pipe in <code>/etc/demo</code> that is executable as http, java, groovy console script, or JMX. You can monitor it with JMX, logs, http, you'll have dry run possibility of that execution for example, or asynchronous execution. You could also use a pipe to create a java-free json or csv servlet, or a list component whose list possibilities are pipes accessed through the <code>PipeModel</code></p>
<p>you can check some introductions at different adaptTo presentations:</p>
<h2><a href="#adaptto-introductions" id="adaptto-introductions">AdaptTo introductions</a></h2>
<p>some presentations were made at the adaptTo conference, last two were:</p>
<p><a href="https://adapt.to/2017/en/schedule/lightning-talks/apache-sling-pipes.html">General introduction at a 2017 lightning talk</a>.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/XcWMB26bMxA?start=666" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
<p>and <a href="https://adapt.to/2018/en/schedule/lightning-talks/whats-new-with-filters-pipes.html">latest news at a 2018 lightning talk</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/LhxVE-56p2Y?start=122" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>   
<h2><a href="#what-is-a-pipe" id="what-is-a-pipe">What is a pipe</a></h2>
<p>A sling pipe is essentially a sling resource stream, encapsulating a well-known sling operation</p>
<ul>
<li>it provides an output as a sling resource iterator,</li>
<li>it gets its input either from a configured path, either from former pipe's output,</li>
<li>each pipe can have scripted configuration, accessing bindings from others</li>
</ul>
<p>Important bits of a pipe are:</p>
<ul>
<li>its type, specifying what sling block you will use, through a RT property, or a method depending on what <a href="/documentation/bundles/sling-pipes/execution-monitoring.html">builder you use</a>,</li>
<li>its <code>name</code>, used in logs, JCR persistence, and bindings,</li>
<li>its input, forced with <code>path</code> property, or because the pipe follows another one,</li>
<li>its optional expression, configured with <code>expr</code> property, that means different things depending on the pipe,</li>
<li>its configuration node, configured with <code>conf</code> node, that means different things depending on the pipe</li>
</ul>
<h2><a href="#get-started" id="get-started">Get Started</a></h2>
<p>You can <a href="/documentation/bundles/sling-pipes/execution-monitoring.html">configure and execute a pipe with java, groovy console, http, or jmx</a></p>
<p>To get more familiar with pipes go through the 3 families of pipes to consider and the samples detailed:</p>
<ul>
<li><a href="/documentation/bundles/sling-pipes/readers.html">reader pipes</a>, that will just output a set of resource depending on the input, without modifying anything,</li>
<li><a href="/documentation/bundles/sling-pipes/writers.html">writer pipes</a>, that modify the repository, depending on configuration and input,</li>
<li><a href="/documentation/bundles/sling-pipes/logical.html">logical pipes</a>, that refer to other pipes, chaining them or using their results in a general way</li>
</ul>
<p>Once you've successfully run your first try, you can get into more complicated configuration, making them dynamics with <a href="/documentation/bundles/sling-pipes/bindings.html">bindings</a> and have a look at some <a href="/documentation/bundles/sling-pipes/samples.html">other samples</a></p>
<h2><a href="#compatibility" id="compatibility">Compatibility</a></h2>
<p>For running this tool on a sling instance you need:</p>
<ul>
<li>java 8 (Nashorn is used for expression)</li>
<li>slingQuery (3.0.0) (used in SlingQueryPipe)</li>
<li>jackrabbit api (2.7.5+) (used in AuthorizablePipe)</li>
</ul>
</section></div></div>                            
                        </div>
                    </div>
                </div>
            </div><footer class="footer">
                <div class="content has-text-centered is-small">
<div class="revisionInfo">
                        Last modified by <span class="author">Stefan Popescu</span> on <span class="comment">Mon Oct 8 19:28:20 2018 +0300</span>
                    </div>                    <p>
                        Apache Sling, Sling, Apache, the Apache feather logo, and the Apache Sling project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners.
                    </p><p>
                        Copyright © 2007-2020 The Apache Software Foundation.
                    </p>
                </div>
            </footer>
        </div>
    </body>
</html>