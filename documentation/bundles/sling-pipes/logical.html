<!DOCTYPE html><html lang="en">
<head>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
        <title>Apache Sling :: Logical Pipes</title>
        <link rel="icon" href="/res/favicon.ico"/>
        <link rel="stylesheet" href="/res/css/site.css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js'></script><script>
            hljs.initHighlightingOnLoad();
        </script>
        
    </head>    <body>
<div class="title">
            <div class="logo">
                <a href="http://sling.apache.org">
                    <img border="0" alt="Apache Sling" src="/res/logos/sling.svg"/>
                </a>
            </div><div class="header">
                <a href="http://www.apache.org">
                    <img border="0" alt="Apache" src="/res/logos/apache.png"/>
                </a>
            </div>
        </div><div class="menu">
            <p>
                <strong><a href="/documentation.html">Documentation</a></strong><br/>
                <a href="/documentation/getting-started.html">Getting Started</a><br/>
                <a href="/documentation/the-sling-engine.html">The Sling Engine</a><br/>
                <a href="/documentation/development.html">Development</a><br/>
                <a href="/documentation/bundles.html">Bundles</a><br/>
                <a href="/documentation/tutorials-how-tos.html">Tutorials &amp; How-Tos</a><br/>
                <a href="http://sling.apache.org/components/">Maven Plugins</a><br/>
                <a href="/documentation/configuration.html">Configuration</a>
                
            </p><p>
                <a href="http://s.apache.org/sling.wiki">Wiki</a><br/>
                <a href="http://s.apache.org/sling.faq">FAQ</a><br/>
                
            </p><p>
                <strong>API Docs</strong><br/>
                <a href="/apidocs/sling11/index.html">Sling 11</a><br/>
                <a href="/apidocs/sling10/index.html">Sling 10</a><br/>
                <a href="/apidocs/sling9/index.html">Sling 9</a><br/>
                <a href="/documentation/apidocs.html">All versions</a><br/>
                
            </p><p>
                <strong>Project Info</strong><br/>
                <a href="/downloads.cgi">Downloads</a><br/>
                <a href="http://www.apache.org/licenses/">License</a><br/>
                <a href="/news.html">News</a><br/>
                <a href="/releases.html">Releases</a><br/>
                <a href="https://issues.apache.org/jira/browse/SLING">Issue Tracker</a><br/>
                <a href="/links.html">Links</a><br/>
                <a href="/contributing.html">Contributing</a><br/>
                <a href="/project-information.html">Project Information</a><br/>
                <a href="/project-information/security.html">Security</a><br/>
                
            </p><p>
                <strong>Source</strong><br/>
                <a href="https://github.com/apache/?utf8=%E2%9C%93&q=sling">GitHub</a><br/>
                <a href="https://gitbox.apache.org/repos/asf?s=sling">Git at Apache</a><br/>
                
            </p><p>
                <strong><a href="/sitemap.html">Site Map</a></strong>
            </p><p>
                <strong>Apache Software Foundation</strong><br/>
                <a href="http://www.apache.org/foundation/thanks.html">Thanks!</a><br/>
                <a href="http://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a><br/>
                <a href="http://www.apache.org/foundation/buy_stuff.html">Buy Stuff</a><br/>
                <a href="https://www.apache.org/events/current-event.html">
                    <img border="0" alt="Current ASF Events" src="https://www.apache.org/events/current-event-125x125.png" width="125px"/>
                </a><a href="http://apache.org/foundation/contributing.html">
                    <img border="0" alt="Support the Apache Software Foundation!" src="/res/images/SupportApache-small.png" width="125px"/>
                </a>
            </p>
        </div>        <div class="main">
            <div class="pagenav">
<div class="breadcrumbs">
                    <a href="/">
                        Home
                    </a>&nbsp;&raquo;&nbsp;<a href="/documentation.html">
                        Documentation
                    </a>&nbsp;&raquo;&nbsp;<a href="/documentation/bundles.html">
                        Bundles
                    </a>&nbsp;&raquo;&nbsp;<a href="/documentation/bundles/sling-pipes.html">
                        Sling Pipes
                    </a>&nbsp;&raquo;&nbsp;
                </div>                
<div class="tags">
                    <a href="/tags/pipes.html" class="label">
                        pipes
                    </a> 
                </div>                
                
            </div><h1 class="pagetitle">
                Logical Pipes
            </h1><div id="generatedToC"></div><script src='/res/jquery-3.2.1.min.js' type='text/javascript'></script><script src='/res/tocjs-1-1-2.js' type='text/javascript'></script><script type='text/javascript'>$(document).ready(function() { $('#generatedToC').toc({'selector':'h1[class!=pagetitle],h2,h3'}); } );</script>
<div class="row"><div class="small-12 columns"><section class="wrap"><p>Those pipes help assembling pipes, or modifying the resource streams <a href="/documentation/bundles/sling-pipes/readers.html">readers</a> or <a href="/documentation/bundles/sling-pipes/writers.html">writers</a> could create.</p>
<h3><a href="#super-pipes" name="super-pipes">Super pipes</a></h3>
<p>Pipes that litterally contains sub pipes</p>
<h4><a href="#container-pipe" name="container-pipe">Container Pipe</a></h4>
<p>assemble a simple sequence of pipes</p>
<ul>
  <li><code>sling:resourceType</code> is <code>slingPipes/container</code></li>
  <li><code>conf</code> node contains child pipes' configurations, that will be configured in the order they are found (note you should use sling:OrderedFolder)</li>
</ul>
<p>Note that pipe builder api automatically creates one for you to chain the subpipe you are configuring.</p>
<h4>ReferencePipe (<code>ref(path)</code>)</h4>
<p>executes the pipe referenced in path property</p>
<ul>
  <li><code>sling:resourceType</code> is <code>slingPipes/reference</code></li>
  <li><code>path</code> path of the referenced pipe</li>
</ul>
<h4><a href="#manifold" name="manifold">Manifold</a></h4>
<p>allows parallel execution of the sub pipes listed in configuration</p>
<ul>
  <li><code>sling:resourceType</code> is <code>slingPipes/manifold</code></li>
  <li><code>conf</code> node contains child pipes' configurations, that will be configured in the order they are found (note you should use sling:OrderedFolder)</li>
  <li><code>queueSize</code> size of the merged resource queue, default is 10000</li>
  <li><code>numThread</code> thread pool size for the execution of the subpipes, default is 5 - resource output will be ordered randomly;  setting it to 1 will guarantee serial execution with predictable output order (i.e. the first subpipe resources will be exhausted before the second subpipe resources are output etc.);  setting numThreads to 1 will have similar effects to using a container pipe, with the notable exception of output termination:  whereas a container pipe chains sub pipes and will stop when any subpipe produces no output, the manifold pipe handles subpipes as independent streams and combines their output regardless of any void subpipe output</li>
  <li><code>executionTimeout</code> execution time out for each sub pipe; given in seconds; default is 24h</li>
</ul>
<h3>FilterPipe (<code>grep(conf)</code>)</h3>
<p>outputs the input resource if its matches its configuration</p>
<ul>
  <li><code>sling:resourceType</code> is <code>slingPipes/filter</code></li>
  <li><code>conf</code> node tree that will be tested against the current input of the pipe, each <code>/conf/sub@prop=value</code> will triggers a test on <code>./sub@prop</code> property of the current input, testing if its value matches <code>value</code> regex. If the special <code>slingPipesFilter_noChildren=${true}</code> property is there with the value instantiated as a true boolean, then filter will pass if corresponding node has no children.</li>
  <li><code>slingPipesFilter_test=&#39;${...}&#39;</code> evaluates the property value, and filters out the stream if the expression is not a boolean or false</li>
  <li><code>slingPipesFilter_not=&#39;true&#39;</code> inverts the expected result of the filter</li>
</ul>
<p>as an example,</p>
<pre><code>echo(&#39;/content/foo&#39;).grep(&#39;foo&#39;,&#39;bar&#39;,&#39;slingPipesFilter_not&#39;,true).run()
</code></pre>
<p>will either return <code>/content/foo</code> either nothing depending on it not containing <code>@foo=bar</code></p>
<pre><code>echo(&#39;content/foo&#39;).name(&#39;FOO&#39;).grep(&#39;slingPipesFilter_test&#39;,&#39;${FOO.foo == &quot;bar&quot;}&#39;).run()
</code></pre>
<p>is an equivalent</p>
<h3><a href="#notpipe" name="notpipe">NotPipe</a></h3>
<p>executes the pipe referenced in path property, passes input only if referenced pipe doesn't return any resource</p>
<ul>
  <li><code>sling:resourceType</code> is <code>slingPipes/not</code></li>
  <li><code>path</code> path of the referenced pipe</li>
</ul></section></div></div>            
            <div class="footer">
<div class="revisionInfo">
                    Last modified by <span class="author">Stefan Popescu</span> on <span class="comment">Mon Oct 8 19:28:20 2018 +0300</span>
                </div>                <p>
                    Apache Sling, Sling, Apache, the Apache feather logo, and the Apache Sling project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners.
                </p><p>
                    Copyright © 2007-2018 The Apache Software Foundation.
                </p>
            </div>
            
        </div>
    </body>
</html>